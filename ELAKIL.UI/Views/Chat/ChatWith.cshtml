@model IEnumerable<Message>

@section Styles {
    <link rel="stylesheet" href="~/css/chat.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" type="text/css" rel="stylesheet" />
}
<input id="currentUser" value="@User.Identity.Name" type="hidden"/>
<main id="main">
    <section class="breadcrumbs">
        <div class="container" data-aos="fade-up">

            <div class="d-flex justify-content-between align-items-center">
                <a href="#">Messaging</a>
                <ol>
                    <li><a href="/Home">Home</a></li>
                    <li>Chat</li>
                </ol>
            </div>

        </div>
    </section>
    <div class="container">
        <div class="messaging">
            <div class="inbox_msg">
                <div class="mesgs">
                    <div class="msg_history" id="msg_history">
                        @foreach (var message in Model)
                        {
                            if (message.FromUserProfileId == null)
                            {
                                <div class="outgoing_msg">
                                    <div class="sent_msg">
                                        <p>
                                            @message.Content
                                        </p>
                                        <span class="time_date">@message.SendDate.ToString("hh : mm - MMMM dd")</span>
                                    </div>
                                </div>
                            }
                            else
                            {
                                <div class="incoming_msg">
                                    <div class="incoming_msg_img"> <img src="https://ptetutorials.com/images/user-profile.png"> </div>
                                    <div class="received_msg">
                                        <div class="received_withd_msg">
                                            <p>
                                                @message.Content
                                            </p>
                                            <span class="time_date">@message.SendDate.ToString("hh : mm - MMMM dd")</span>
                                        </div>
                                    </div>
                                </div>
                            }
                        }
                    </div>
                    <div class="type_msg">
                        <div class="input_msg_write">
                            <input value="@ViewBag.User" id="userInput" type="hidden" />
                            <input type="text" id="messageInput" class="write_msg" placeholder="Type a message" />
                            <button class="msg_send_btn" type="button" id="sendButton"><i class="fa fa-paper-plane-o" aria-hidden="true"></i></button>
                        </div>
                    </div>
                </div>
              

            </div>

        </div>
    </div>
</main>
@section Scripts{

    <script src="~/microsoft/signalr/dist/browser/signalr.js"></script>
    <script src="~/js/chat.js"></script>
}
